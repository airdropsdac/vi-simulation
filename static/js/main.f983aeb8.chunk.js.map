{"version":3,"sources":["global-styles.js","eos/asset.js","eos/rpc.js","eos/utils.js","math.js","store/producer.js","store/simulatedProducer.js","store/autoSave.js","store/index.js","components/styles.js","constants.js","components/GeneralInfo.js","components/OriginalBPs.js","components/SimulatedBPs.js","App.js","serviceWorker.js","index.js"],"names":["GlobalStyles","createGlobalStyle","_templateObject","separateThousands","s","String","replace","formatAsset","_ref","formatOptions","amount","symbol","options","Object","assign","withSymbol","precision","symbolCode","split","length","concat","pre","slice","decimals","result","MainNetwork","nodeEndpoint","chainId","matches","exec","Error","_matches","slicedToArray","httpProtocol","host","port","protocol","Number","parseInt","createNetwork","rpc","JsonRpc","defaultOptions","json","lower_bound","undefined","upper_bound","limit","fetchRows","_x","_fetchRows","apply","this","arguments","_callee","mergedOptions","lowerBound","regenerator_default","a","wrap","_context","prev","next","objectSpread","get_table_rows","sent","abrupt","rows","stop","SECONDS_TO_2000","SECONDS_PER_WEEK","calculateVoteWeight","staked","timestamp","Date","now","weight","Math","floor","BigNumber","times","pow","vote2stake","voteWeight","div","Producer","name","rank","data","rootStore","classCallCheck","initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_name","_rank","owner","total_votes","top200VoteStrength","originalProducers","reduce","acc","p","plus","totalVotes","totalVoteWeight","bpRewardPool","vpay","votePercentage","rewards","bpay","vpayRewards","_this","selectedProducers","some","contract","observable","computed","SimulatedProducer","_simulatedProducers","findIndex","_this2","find","delta","originalBP","isSelected","valueProxyVoteWeight","toNumber","oldAdjustedVotes","minus","votePercentageRelativeTop200","defaultProducers","autoSave","firstRun","autorun","producers","existingProducers","localStorage","getItem","JSON","parse","_unused","set","setItem","stringify","toJS","RootStore","store_descriptor","store_descriptor2","store_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","fetchBPInfo","code","table","scope","tableEosStat","tableGlobal","index_position","key_type","tableProducers","_originalProducers","map","index","bpMapping","total_producer_vote_weight","dailyRewardPool","assetString","_assetString$split","_assetString$split2","amountWithPrecision","symbolName","amountNoPrecision","dotIndex","indexOf","error","message","decomposeAsset","supply","parseFloat","valueProxyVotes","valueTop21Fee","valueProxyVotesAsEOS","rewardPool","filter","vpayDueToProxy","valueNumberOfNewlyTop21Bps","valueTop21FeeAsEOS","valueTotalVPay","valueVPayFeesPercentage","valueProxyEarnings","valueMaintenaceFeesPercentage","valueMaintenanceFeesAsEOS","cloneDeep","sort","p1","p2","_this3","showSelectedOnly","action","evt","_this4","target","value","_this5","_this6","_this7","producer","_this8","toConsumableArray","_this9","_this10","Block","styled","styles_templateObject","width","Header","h2","_templateObject2","HorizontalFlex","_templateObject3","props","justifyContent","alignItems","margin","EOS_SYMBOL","_templateObject4","fullWidth","Label","label","GeneralInfo_templateObject","Input","input","GeneralInfo_templateObject2","GeneralInfo","react_default","createElement","onChange","handleProxyVotesChange","placeholder","handleVPayFeesPercentage","handleMaintenanceFeesPercentage","handleTop21Fee","valueVPayPerBP","readOnly","valueAPR","toFixed","React","Component","inject","observer","List","ol","OriginalBPs_templateObject","ListItem","li","OriginalBPs_templateObject2","PText","span","OriginalBPs_templateObject3","textAlign","OriginalBPs_templateObject4","Button","button","_templateObject5","OriginalBps","_templateObject6","OriginalBPs_Label","onClick","handleDeselectProducers","key","type","checked","handleToggleProducer","disabled","canSelectMoreProducers","SimulatedBPs_templateObject","SimulatedBPs_templateObject2","SimulatedBPs_templateObject3","PRank","SimulatedBPs_templateObject4","deltaRank","PName","SimulatedBPs_templateObject5","highlight","PRewards","SimulatedBPs_templateObject6","deltaRewards","_templateObject7","Info","_templateObject8","_templateObject9","SimulatedBPs_Label","handleToggleShowSelectedOnly","SimulatedBPs_List","simulatedProducersFiltered","SimulatedBPs_ListItem","SimulatedBPs_PText","window","PageWrapper","App_templateObject","App","init","mobx_react_module","Fragment","global_styles","components_GeneralInfo","OriginalBPs","SimulatedBPs","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f983aeb8.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyles = createGlobalStyle`\n  body {\n    padding: 0;\n    margin: 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: #333;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  * {\n    font-family: Montserrat, sans-serif;\n    box-sizing: border-box;\n    transition: color, background-color, background, border-color 0.3s ease;\n  }\n\n  input[type=checkbox] {\n    zoom: 1.5;\n  }\n`;\n\nexport default GlobalStyles;\n","// https://stackoverflow.com/a/2901298/9843487\nexport const separateThousands = s => String(s).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n/**\n * Example:\n * { amount: 1230000, symbol: { symbolCode: 'DAPP', precision: 4 }} => '123.0000 DAPP'\n */\nexport function formatAsset({ amount, symbol }, formatOptions) {\n  const options = Object.assign(\n    {\n      withSymbol: true,\n      separateThousands: false,\n    },\n    formatOptions || {},\n  );\n  const { precision, symbolCode } = symbol;\n  let s = String(amount).split(`.`)[0];\n  while (s.length < precision + 1) {\n    s = `0${s}`;\n  }\n\n  let pre = s.slice(0, -precision);\n  const decimals = s.slice(-precision);\n\n  if (options.separateThousands) {\n    // adds `,` thousand separators\n    // https://stackoverflow.com/a/2901298/9843487\n    pre = separateThousands(pre);\n  }\n\n  let result = `${pre}.${decimals}`;\n  if (options.withSymbol) result = `${result} ${symbolCode}`;\n  return result;\n}\n\n/**\n * Example\n * '123.0000 DAPP' => { amount: 1230000, symbol: { symbolCode: 'DAPP', precision: 4 }}\n */\nexport function decomposeAsset(assetString) {\n  try {\n    const [amountWithPrecision, symbolName] = assetString.split(` `);\n    if (!amountWithPrecision || !symbolName) {\n      throw new Error(`Invalid split`);\n    }\n    const amountNoPrecision = Number.parseInt(amountWithPrecision.replace(`.`, ``), 10);\n\n    const dotIndex = amountWithPrecision.indexOf(`.`);\n    if (dotIndex === -1) {\n      throw new Error(`No dot found`);\n    }\n    const precision = amountWithPrecision.length - dotIndex - 1;\n\n    return {\n      amount: amountNoPrecision,\n      symbol: {\n        precision,\n        symbolCode: symbolName,\n      },\n    };\n  } catch (error) {\n    throw new Error(\n      `Invalid asset passed to decomposeAsset: ${JSON.stringify(assetString)}. ${error.message}`,\n    );\n  }\n}\n","import { JsonRpc } from 'eosjs';\n\nconst createNetwork = (nodeEndpoint, chainId) => {\n  const matches = /^(https?):\\/\\/(.+):(\\d+)\\D*$/.exec(nodeEndpoint);\n  if (!matches) {\n    throw new Error(\n      `Could not parse EOS HTTP endpoint. Needs protocol and port: \"${nodeEndpoint}\"`,\n    );\n  }\n\n  const [, httpProtocol, host, port] = matches;\n\n  return {\n    chainId,\n    protocol: httpProtocol,\n    host,\n    port: Number.parseInt(port, 10),\n    nodeEndpoint,\n  };\n};\n\nconst MainNetwork = createNetwork(\n  `https://public.eosinfra.io:443`,\n  `aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906`,\n);\n\nconst rpc = new JsonRpc(MainNetwork.nodeEndpoint);\n\nexport default rpc;\n","import rpc from \"./rpc\";\n\nconst MAX_PAGINATION_FETCHES = 5;\n\nconst defaultOptions = {\n  json: true,\n  lower_bound: undefined,\n  upper_bound: undefined,\n  limit: 9999\n};\n\nexport async function fetchRows(options) {\n  const mergedOptions = {\n    ...defaultOptions,\n    ...options\n  };\n\n  let lowerBound = mergedOptions.lower_bound;\n\n  const result = await rpc.get_table_rows({\n    ...mergedOptions,\n    lower_bound: lowerBound\n  });\n\n  return result.rows;\n}\n\nexport async function fetchAllRows(options, indexName = `id`) {\n  const mergedOptions = {\n    ...defaultOptions,\n    ...options\n  };\n\n  let rows = [];\n  let lowerBound = mergedOptions.lower_bound;\n\n  for (let i = 0; i < MAX_PAGINATION_FETCHES; i++) {\n    const result = await rpc.get_table_rows({\n      ...mergedOptions,\n      lower_bound: lowerBound\n    });\n    rows = rows.concat(result.rows);\n\n    if (!result.more || result.rows.length === 0) break;\n\n    lowerBound = result.rows[result.rows.length - 1][indexName] + 1;\n  }\n\n  return rows;\n}\n","import BigNumber from \"bignumber.js\";\n\n// blocktimestamp_epoch counts from Jan 01 2000\n// from https://www.eoscanada.com/en/how-is-your-vote-strength-calculated-on-eos\nconst SECONDS_TO_2000 = 946684800;\nconst SECONDS_PER_WEEK = 60 * 60 * 24 * 7;\n\n// https://github.com/EOSIO/eos/blob/2ad412773d6ccc72045dae760ae3d81cf229c8ee/contracts/eosio.system/voting.cpp#L105-L108\nexport function calculateVoteWeight(staked) {\n  const timestamp = Date.now() / 1000;\n  const weight = (\n    Math.floor((timestamp - SECONDS_TO_2000) / SECONDS_PER_WEEK) * (1.0 / 52.0)\n  );\n\n  return new BigNumber(staked).times(Math.pow(2, weight))\n}\n\nexport function vote2stake(voteWeight) {\n  const timestamp = Date.now() / 1000;\n  const weight = (\n    Math.floor((timestamp - SECONDS_TO_2000) / SECONDS_PER_WEEK) * (1.0 / 52.0)\n  );\n\n  return new BigNumber(voteWeight).div(Math.pow(2, weight))\n}\n\nexport function calculateVoteDecayPercentage(staked, lastVoteWeight) {\n  const voteWeight = calculateVoteWeight(staked)\n\n  return (((voteWeight - lastVoteWeight) / voteWeight) * 100)\n}\n","import { observable, computed, toJS } from \"mobx\";\nimport BigNumber from \"bignumber.js\";\n\nclass Producer {\n  @observable data = null;\n  @observable _name = null;\n  @observable _rank = null;\n  rootStore = null;\n\n  constructor({ name, rank, data, rootStore }) {\n    this._name = name;\n    this._rank = rank;\n    this.data = data;\n    this.rootStore = rootStore;\n  }\n\n  @computed get name() {\n    return this._name || this.data.owner;\n  }\n\n  @computed get rank() {\n    return this._rank;\n  }\n\n  @computed get contract() {\n    return this.data.owner;\n  }\n\n  @computed get totalVotes() {\n    return new BigNumber(this.data.total_votes);\n  }\n\n  @computed get votePercentageRelativeTop200() {\n    const top200VoteStrength = this.rootStore.originalProducers.reduce((acc, p) => acc.plus(p.totalVotes), new BigNumber(0))\n    return this.totalVotes.div(top200VoteStrength)\n  }\n\n  @computed get votePercentage() {\n    return this.totalVotes.div(this.rootStore.totalVoteWeight);\n  }\n\n  @computed get vpayRewards() {\n    const bpRewardPool = this.rootStore.bpRewardPool;\n    const vpay = this.votePercentage * bpRewardPool.vpay;\n    return vpay >= 100 * 1e4 ? vpay : 0\n  }\n\n  @computed get rewards() {\n    const bpRewardPool = this.rootStore.bpRewardPool;\n    let rewards = 0;\n\n    if (this.rank <= 21) rewards += bpRewardPool.bpay / 21;\n\n    rewards += this.vpayRewards\n\n    return rewards;\n  }\n\n  @computed get isSelected() {\n    return this.rootStore.selectedProducers.some(p => p === this.contract)\n  }\n}\n\nexport default Producer;\n","import { observable, computed, toJS } from \"mobx\";\nimport BigNumber from \"bignumber.js\";\nimport Producer from \"./producer\";\n\nexport default class SimulatedProducer extends Producer {\n  @computed get name() {\n    return this._name || this.data.owner;\n  }\n\n  @computed get rank() {\n    return (\n      this.rootStore._simulatedProducers.findIndex(\n        p => p.contract === this.contract\n      ) + 1\n    );\n  }\n\n  @computed get originalBP() {\n    return this.rootStore.originalProducers.find(\n      p => p.contract === this.contract\n    );\n  }\n\n  @computed get deltaRank() {\n    const delta = this.originalBP.rank - this.rank;\n\n    if (delta <= 0) return `${delta}`;\n    return `+${delta}`;\n  }\n\n  @computed get deltaRewards() {\n    const delta = this.rewards - this.originalBP.rewards;\n    return delta;\n  }\n\n  @computed get vpayDueToProxy() {\n    if(!this.isSelected) return 0\n\n    // if never earned any VPAY (<100 EOS), then we are responsible\n    // for all of it and charge extra\n    if(this.originalBP.vpayRewards === 0) return this.vpayRewards;\n\n    // otherwise charge proportional to proxy votes\n    return this.vpayRewards * (this.rootStore.valueProxyVoteWeight.div(this.totalVotes)).toNumber()\n  }\n\n  @computed get totalVotes() {\n    const oldAdjustedVotes = this.originalBP.totalVotes.minus(\n      this.originalBP.votePercentageRelativeTop200 *\n        // assume totalVotes of originalProducers and simulatedProducers stays the same\n        this.rootStore.selectedProducers.length *\n        this.rootStore.valueProxyVoteWeight\n    );\n\n    if (!this.isSelected) return oldAdjustedVotes;\n\n    return oldAdjustedVotes.plus(this.rootStore.valueProxyVoteWeight);\n  }\n}\n","import { toJS, autorun, set } from \"mobx\";\n\nconst defaultProducers = [\n  \"alohaeosprod\",\n  \"argentinaeos\",\n  \"aus1genereos\",\n  \"blockmatrix1\",\n  \"blocksmithio\",\n  \"cryptolions1\",\n  \"cypherglasss\",\n  \"eos42freedom\",\n  \"eosamsterdam\",\n  \"eosauthority\",\n  \"eoscafeblock\",\n  \"eoscanadacom\",\n  \"eosdacserver\",\n  \"eosdublinwow\",\n  \"eosflareiobp\",\n  \"eosiodetroit\",\n  \"eosliquideos\",\n  \"eosmetaliobp\",\n  \"eosnairobike\",\n  \"eosnationftw\",\n  \"eosnewyorkio\",\n  \"eosphereiobp\",\n  \"eosriobrazil\",\n  \"eosswedenorg\",\n  \"eosukblocpro\",\n  \"eosvenezuela\",\n  \"hkeoshkeosbp\",\n  \"itokenpocket\",\n  \"teamgreymass\",\n  \"tokenika4eos\"\n];\n\nexport default function(_this) {\n  let firstRun = true;\n\n  // will run on change\n  autorun(() => {\n    // on load check if there's an existing store on localStorage and extend the store\n    if (firstRun) {\n      let producers = defaultProducers;\n      try {\n        const existingProducers = localStorage.getItem(\"selectedProducers\");\n        if (existingProducers) {\n          producers = JSON.parse(existingProducers);\n        }\n        if(producers.length === 0) {\n          producers = defaultProducers\n        }\n      } catch {}\n\n      set(_this.selectedProducers, producers);\n    }\n\n    // from then on serialize and save to localStorage\n    localStorage.setItem(\n      \"selectedProducers\",\n      JSON.stringify(toJS(_this.selectedProducers))\n    );\n  });\n\n  firstRun = false;\n}\n","import BigNumber from \"bignumber.js\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport { action, computed, observable } from \"mobx\";\nimport { decomposeAsset } from \"../eos/asset.js\";\nimport { fetchRows } from \"../eos/utils\";\nimport { calculateVoteWeight } from \"../math.js\";\nimport bpMapping from \"./bpMapping.json\";\nimport Producer from \"./producer.js\";\nimport SimulatedProducer from \"./simulatedProducer.js\";\nimport autoSave from './autoSave'\n\nconst INFLATION = 0.05;\nconst BP_SHARE = 0.2;\nconst VPAY_SHARE = 0.75;\nconst BPAY_SHARE = 0.25;\n\nclass RootStore {\n  @observable tableEosStat = null;\n  @observable tableGlobal = null;\n  @observable _originalProducers = [];\n\n  constructor() {\n    autoSave(this)\n  }\n\n  @action async init() {\n    this.fetchBPInfo();\n  }\n\n  @action async fetchBPInfo() {\n    this.tableEosStat = (await fetchRows({\n      code: `eosio.token`,\n      table: `stat`,\n      scope: `EOS`\n    }))[0];\n    this.tableGlobal = (await fetchRows({\n      code: `eosio`,\n      table: `global`,\n      scope: `eosio`\n    }))[0];\n    const tableProducers = await fetchRows({\n      code: `eosio`,\n      table: `producers`,\n      scope: `eosio`,\n      limit: 200,\n      index_position: 2,\n      key_type: `float64`\n    });\n\n    this._originalProducers = tableProducers.map((data, index) => {\n      return new Producer({\n        name: bpMapping[data.owner],\n        rank: index + 1,\n        data,\n        rootStore: this\n      });\n    });\n  }\n\n  @computed get originalProducers() {\n    return this._originalProducers;\n  }\n\n  @computed get totalVoteWeight() {\n    if (!this.tableGlobal) return new BigNumber(0);\n\n    return new BigNumber(this.tableGlobal.total_producer_vote_weight);\n  }\n\n  @computed get bpRewardPool() {\n    if (!this.tableEosStat)\n      return {\n        vpay: 0,\n        bpay: 0\n      };\n\n    const supply = decomposeAsset(this.tableEosStat.supply).amount;\n    const dailyRewardPool = (supply * INFLATION * BP_SHARE) / 365;\n\n    return {\n      vpay: dailyRewardPool * VPAY_SHARE,\n      bpay: dailyRewardPool * BPAY_SHARE\n    };\n  }\n\n  /* General Info */\n  @observable valueProxyVotes = \"10000000\";\n  @observable valueVPayFeesPercentage = \"0.9\";\n  @observable valueTop21Fee = \"100\";\n  @observable valueMaintenaceFeesPercentage = \"0.02\";\n\n  @computed get valueProxyVotesAsEOS() {\n    return Math.floor(parseFloat(this.valueProxyVotes) * 1e4);\n  }\n\n  @computed get valueTop21FeeAsEOS() {\n    return Math.floor(parseFloat(this.valueTop21Fee) * 1e4);\n  }\n\n  @computed get valueProxyVoteWeight() {\n    return calculateVoteWeight(this.valueProxyVotesAsEOS);\n  }\n\n  @computed get valueVPayPerBP() {\n    const rewardPool = this.bpRewardPool;\n    return Math.floor(\n      (this.valueProxyVoteWeight / this.totalVoteWeight) * rewardPool.vpay\n    );\n  }\n\n  @computed get valueTotalVPay() {\n    const selectedSimulated = this._simulatedProducers.filter(p => p.isSelected)\n    return selectedSimulated.reduce((acc, p) => acc + p.vpayDueToProxy, 0)\n  }\n\n  @computed get valueNumberOfNewlyTop21Bps() {\n    const selectedSimulated = this._simulatedProducers.filter(p => p.isSelected)\n    return selectedSimulated.reduce((acc, p) => acc + ((p.rank <= 21 && p.originalBP.rank > 21) ? 1 : 0), 0)\n  }\n\n  @computed get valueProxyEarnings() {\n    return (\n      this.valueNumberOfNewlyTop21Bps * this.valueTop21FeeAsEOS +\n      this.valueTotalVPay * this.valueVPayFeesPercentage\n    );\n  }\n\n  @computed get valueMaintenanceFeesAsEOS() {\n    return Math.floor(\n      this.valueProxyEarnings * this.valueMaintenaceFeesPercentage\n    );\n  }\n\n  @computed get valueAPR() {\n    const dailyPercentage =\n      (this.valueProxyEarnings - this.valueMaintenanceFeesAsEOS) /\n      this.valueProxyVotesAsEOS;\n    return dailyPercentage * 365;\n  }\n\n  @action handleProxyVotesChange = evt => {\n    this.valueProxyVotes = evt.target.value;\n  };\n\n  @action handleVPayFeesPercentage = evt => {\n    this.valueVPayFeesPercentage = evt.target.value;\n  };\n\n  @action handleTop21Fee = evt => {\n    this.valueTop21Fee = evt.target.value;\n  };\n\n  @action handleMaintenanceFeesPercentage = evt => {\n    this.valueMaintenaceFeesPercentage = evt.target.value;\n  };\n\n  /* Original BPs */\n  @observable selectedProducers = [];\n\n  @action handleToggleProducer = producer => {\n    if (this.selectedProducers.some(p => p === producer)) {\n      this.selectedProducers = this.selectedProducers.filter(\n        p => p !== producer\n      );\n    } else {\n      this.selectedProducers = [...this.selectedProducers, producer];\n    }\n  };\n\n  @action handleDeselectProducers = () => {\n    this.selectedProducers = [];\n  };\n\n  @computed get canSelectMoreProducers() {\n    return this.selectedProducers.length < 30;\n  }\n\n  /* Simulated BPs */\n  @observable showSelectedOnly = true;\n\n  @action handleToggleShowSelectedOnly = () => {\n    this.showSelectedOnly = !this.showSelectedOnly;\n  };\n\n  @computed get _simulatedProducers() {\n    return this.originalProducers\n      .map(\n        p =>\n          new SimulatedProducer({\n            name: p.name,\n            data: cloneDeep(p.data),\n            rootStore: this\n          })\n      )\n      .sort((p1, p2) => p2.totalVotes.minus(p1.totalVotes).toNumber());\n  }\n\n  @computed get simulatedProducersFiltered() {\n    return this._simulatedProducers.filter(\n      p => !this.showSelectedOnly || p.isSelected\n    );\n  }\n}\n\nexport default RootStore;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Block = styled.div`\nmargin: 0 1rem;\npadding: 2rem;\nwidth: ${p => p.width || `auto`};\nbackground-color: #fafafa;\nborder-radius: 12px;\n`;\n\nexport const Header = styled.h2`\nfont-size: 2rem;\nfont-weight: bold;\nmargin: 0 0 1rem 0;\ntext-align: center;\n`;\n\nexport const HorizontalFlex = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: ${props => props.justifyContent || `center`};\n    align-items: ${props => props.alignItems || `center`};\n    margin: ${props => props.margin || `0`};\n    width: 100%;\n`\n\nexport const VerticalFlex = styled(HorizontalFlex)`\n    flex-direction: column;\n    ${p => p.fullWidth ? `width: 100%;` : ``}\n`","export const EOS_SYMBOL = { symbolCode: `EOS`, precision: 4 }\n","import React from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport styled from \"styled-components\";\nimport { Block, Header, HorizontalFlex } from \"./styles\";\nimport { EOS_SYMBOL } from \"../constants\";\nimport { formatAsset } from \"../eos/asset\";\n\nconst Label = styled.label`\n  margin-right: 1rem;\n  width: 150px;\n`\n\nconst Input = styled.input`\n  background: #fff;\n  border: none;\n  font-size: 1rem;\n  padding: 0.25rem;\n  margin: 0;\n  text-align: right;\n  &:read-only {\n    color: #999;\n  }\n  flex: 1;\n  min-width: 200px;\n`\n\nclass GeneralInfo extends React.Component {\n  render() {\n    const { rootStore } = this.props;\n\n    return (\n      <Block>\n        <Header>General Info</Header>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Proxy EOS Votes:</Label>\n          <Input value={rootStore.valueProxyVotes} onChange={rootStore.handleProxyVotesChange} placeholder=\"25000000.0000\"/>\n        </HorizontalFlex>\n        {/* <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Proxy Vote Weight:</Label>\n          <Input value={rootStore.valueProxyVoteWeight.toFixed(0)} readOnly />\n        </HorizontalFlex> */}\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>BP VPAY % to Proxy:</Label>\n          <Input value={rootStore.valueVPayFeesPercentage} onChange={rootStore.handleVPayFeesPercentage} placeholder=\"0.7\" />\n        </HorizontalFlex>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Proxy Maintenance Fees in %:</Label>\n          <Input value={rootStore.valueMaintenaceFeesPercentage} onChange={rootStore.handleMaintenanceFeesPercentage} placeholder=\"0.7\" />\n        </HorizontalFlex>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Fixed EOS fee for entering Top 21:</Label>\n          <Input value={rootStore.valueTop21Fee} onChange={rootStore.handleTop21Fee} placeholder=\"0.7\" />\n        </HorizontalFlex>\n        <hr />\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Additional BP VPay from Proxy Votes:</Label>\n          <Input value={`${formatAsset({ amount: rootStore.valueVPayPerBP, symbol: EOS_SYMBOL })}`} readOnly />\n        </HorizontalFlex>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Additional VPay of all BPs in Proxy:</Label>\n          <Input value={`${formatAsset({ amount: rootStore.valueTotalVPay, symbol: EOS_SYMBOL })}`} readOnly />\n        </HorizontalFlex>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>#BPs in Proxy newly in Top 21:</Label>\n          <Input value={`${rootStore.valueNumberOfNewlyTop21Bps}`} readOnly />\n        </HorizontalFlex>\n        <hr />\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Proxy Earnings:</Label>\n          <Input value={`${formatAsset({ amount: rootStore.valueProxyEarnings, symbol: EOS_SYMBOL })}`} readOnly />\n        </HorizontalFlex>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Maintenace Fee:</Label>\n          <Input value={`${formatAsset({ amount: rootStore.valueMaintenanceFeesAsEOS, symbol: EOS_SYMBOL })}`} readOnly />\n        </HorizontalFlex>\n        <HorizontalFlex justifyContent=\"flex-start\" margin=\"0 0 1rem 0\">\n          <Label>Voter Incentives APR:</Label>\n          <Input value={`${(rootStore.valueAPR * 100).toFixed(4)}%`} readOnly />\n        </HorizontalFlex>\n      </Block>\n    );\n  }\n}\n\nexport default inject(\"rootStore\")(observer(GeneralInfo));\n","import { inject, observer } from \"mobx-react\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { EOS_SYMBOL } from \"../constants\";\nimport { formatAsset } from \"../eos/asset\";\nimport { Block, Header, HorizontalFlex } from \"./styles\";\nimport { vote2stake } from \"../math\";\n\nconst List = styled.ol`\n  padding: 0;\n`;\n\nconst ListItem = styled.li`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 1rem 0;\n`;\n\nconst PText = styled.span`\n  display: inline-block;\n  width: ${p => p.width || `200px`} !important;\n  margin-right: 0.5rem;\n  text-align: ${p => p.textAlign || `left`};\n`;\n\nconst Label = styled.label``;\n\nconst Button = styled.button`\n  font-size: 1rem;\n  margin: 1rem;\n`;\n\nconst Input = styled.input`\n  background: #fff;\n  border: none;\n  font-size: 1rem;\n  padding: 0.25rem;\n  margin: 0;\n  text-align: right;\n  &:read-only {\n    color: #999;\n  }\n  flex: 1;\n  min-width: 200px;\n`;\n\nclass OriginalBps extends React.Component {\n  render() {\n    const { rootStore } = this.props;\n\n    return (\n      <Block>\n        <Header>BPs</Header>\n        <HorizontalFlex>\n          <Label>{`#Selected BPs: ${\n            rootStore.selectedProducers.length\n          }`}</Label>\n        </HorizontalFlex>\n        <HorizontalFlex>\n          <Button onClick={rootStore.handleDeselectProducers}>\n            Deselect all\n          </Button>\n        </HorizontalFlex>\n        <List>\n          {rootStore.originalProducers.map(p => (\n            <ListItem key={p.contract}>\n              <input\n                type=\"checkbox\"\n                checked={p.isSelected}\n                onChange={() => rootStore.handleToggleProducer(p.contract)}\n                disabled={!p.isSelected && !rootStore.canSelectMoreProducers}\n              />\n              <PText width=\"2rem\" textAlign=\"left\">\n                {p.rank}\n              </PText>\n              <PText width=\"150px\">{p.name}</PText>\n              <PText width=\"150px\">{p.contract}</PText>\n              <PText width=\"80px\">\n                {`${(vote2stake(p.totalVotes) / 1e10).toFixed(2)}M (${(\n                  p.votePercentage.toNumber() * 100\n                ).toFixed(2)})%`}\n              </PText>\n              <PText width=\"8rem\" textAlign=\"right\">\n                {formatAsset({ amount: p.rewards, symbol: EOS_SYMBOL })}\n              </PText>\n            </ListItem>\n          ))}\n        </List>\n      </Block>\n    );\n  }\n}\n\nexport default inject(\"rootStore\")(observer(OriginalBps));\n","import { inject, observer } from \"mobx-react\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { EOS_SYMBOL } from \"../constants\";\nimport { formatAsset } from \"../eos/asset\";\nimport { Block, Header, HorizontalFlex } from \"./styles\";\nimport { vote2stake } from \"../math\";\n\nconst List = styled.ol`\n  padding: 0;\n`;\n\nconst ListItem = styled.li`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 1rem 0;\n`;\n\nconst PText = styled.span`\n  display: inline-block;\n  width: ${p => p.width || `200px`} !important;\n  margin-right: 0.5rem;\n  text-align: ${p => p.textAlign || `left`};\n`;\n\nconst PRank = styled(PText)`\n  color: ${p =>\n    p.deltaRank === `0`\n      ? `initial`\n      : Number.parseInt(p.deltaRank) < 0\n      ? `red`\n      : `green`};\n`;\n\nconst PName = styled(PText)`\n  color: ${p => (p.highlight ? `blue` : `initial`)};\n`;\n\nconst PRewards = styled(PText)`\n  color: ${p =>\n    p.deltaRewards === `0`\n      ? `initial`\n      : Number.parseInt(p.deltaRewards) < 0\n      ? `red`\n      : `green`};\n  white-space: pre;\n`;\n\nconst Label = styled.label``;\n\nconst Info = styled.p`\n  font-size: 0.8rem;\n  text-align: center;\n`;\n\nconst Input = styled.input`\n  background: #fff;\n  border: none;\n  font-size: 1rem;\n  padding: 0.25rem;\n  margin: 0;\n  text-align: right;\n  &:read-only {\n    color: #999;\n  }\n  flex: 1;\n  min-width: 200px;\n`;\n\nclass OriginalBps extends React.Component {\n  render() {\n    const { rootStore } = this.props;\n\n    return (\n      <Block>\n        <Header>Simulated Results</Header>\n        <Info>Assuming votes to proxy are redistributed from all BPs proportional to their vote weight. (1% of total votes = 1% of Proxy Vote Weight lost.)</Info>\n        <HorizontalFlex>\n          <Label>Show selected BPs only: </Label>\n          <input\n            type=\"checkbox\"\n            checked={rootStore.showSelectedOnly}\n            onChange={() => rootStore.handleToggleShowSelectedOnly()}\n          />\n        </HorizontalFlex>\n        <List>\n          {rootStore.simulatedProducersFiltered.map(p => (\n            <ListItem key={p.contract}>\n              <PRank width=\"4rem\" textAlign=\"left\" deltaRank={p.deltaRank}>\n                {`${p.rank} (${p.deltaRank})`}\n              </PRank>\n              <PName\n                width=\"150px\"\n                highlight={!rootStore.showSelectedOnly && p.isSelected}\n              >\n                {p.name}\n              </PName>\n              <PText width=\"80px\">\n                {`${(vote2stake(p.totalVotes) / 1e10).toFixed(2)}M (${(\n                  p.votePercentage.toNumber() * 100\n                ).toFixed(2)})%`}\n              </PText>\n              <PRewards\n                width=\"8rem\"\n                textAlign=\"right\"\n                deltaRewards={p.deltaRewards}\n              >\n                {`${formatAsset({\n                  amount: p.rewards,\n                  symbol: EOS_SYMBOL\n                })}\\n${p.deltaRewards > 0 ? `+` : ``}${formatAsset({\n                  amount: p.deltaRewards,\n                  symbol: EOS_SYMBOL\n                })}`}\n              </PRewards>\n            </ListItem>\n          ))}\n        </List>\n      </Block>\n    );\n  }\n}\n\nexport default inject(\"rootStore\")(observer(OriginalBps));\n","import { observer, Provider as MobxProvider } from \"mobx-react\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport GlobalStyles from \"./global-styles\";\nimport RootStore from \"./store\";\nimport GeneralInfo from \"./components/GeneralInfo\";\nimport OriginalBPs from \"./components/OriginalBPs\";\nimport SimulatedBPs from \"./components/SimulatedBPs\";\nimport { formatAsset } from \"./eos/asset\";\nimport { EOS_SYMBOL } from \"./constants\";\n\nconst rootStore = new RootStore();\n\nwindow.rootStore = rootStore; // just for in-browser debugging, not used in the code\n\nconst PageWrapper = styled.div`\n  margin: 2rem;\n  display: flex;\n  flex-direction: row;\n`;\n\nclass App extends React.Component {\n  componentDidMount() {\n    rootStore.init();\n  }\n\n  render() {\n    return (\n      <MobxProvider rootStore={rootStore}>\n        <React.Fragment>\n          <GlobalStyles />\n\n          <PageWrapper>\n            <GeneralInfo />\n           <OriginalBPs />\n           <SimulatedBPs />\n          </PageWrapper>\n        </React.Fragment>\n      </MobxProvider>\n    );\n  }\n}\n\nexport default observer(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n  ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}